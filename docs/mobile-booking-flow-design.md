# ãƒ¢ãƒã‚¤ãƒ«äºˆç´„ãƒ•ãƒ­ãƒ¼è¨­è¨ˆæ›¸

## ğŸ“± äºˆç´„ãƒ•ãƒ­ãƒ¼æ¦‚è¦

### åŸºæœ¬äºˆç´„ãƒ•ãƒ­ãƒ¼
```
ã‚¹ã‚¿ãƒ¼ãƒˆ â†’ æ—¥ç¨‹é¸æŠ â†’ æ™‚é–“é¸æŠ â†’ ã‚µãƒ¼ãƒ“ã‚¹é¸æŠ â†’ ç¢ºèª â†’ å®Œäº†
   â†“          â†“          â†“          â†“        â†“      â†“
 èªè¨¼ç¢ºèª   ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼  ã‚¿ã‚¤ãƒ ã‚¹ãƒ­ãƒƒãƒˆ  ãƒ¡ãƒ‹ãƒ¥ãƒ¼  äºˆç´„ç¢ºå®š  é€šçŸ¥é€ä¿¡
```

### é«˜é€Ÿäºˆç´„ãƒ•ãƒ­ãƒ¼ï¼ˆãƒªãƒ”ãƒ¼ã‚¿ãƒ¼å‘ã‘ï¼‰
```
ã‚¹ã‚¿ãƒ¼ãƒˆ â†’ ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—äºˆç´„ â†’ ç¢ºèª â†’ å®Œäº†
   â†“           â†“          â†“      â†“
å‰å›åŒæ§˜    å‰å›è¨­å®šè¡¨ç¤º   ç¢ºèª    äºˆç´„ç¢ºå®š
```

---

## ğŸ¯ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³è¨­è¨ˆ

### 1. æ—¥ç¨‹é¸æŠç”»é¢

#### UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† äºˆç´„ã‚’ä½œæˆ                 â”‚ â†æˆ»ã‚‹ãƒœã‚¿ãƒ³
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ ğŸ“… ã”å¸Œæœ›ã®æ—¥ç¨‹ã‚’é¸æŠ         â”‚
â”‚                             â”‚
â”‚ ä»Šã™ãäºˆç´„å¯èƒ½ âœ¨            â”‚ â†ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ä»Šæ—¥  â”‚ â”‚æ˜æ—¥  â”‚ â”‚æ˜å¾Œæ—¥â”‚    â”‚
â”‚ â”‚ ã€‡  â”‚ â”‚ â–³  â”‚ â”‚ Ã—  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚      2024å¹´ 12æœˆ             â”‚
â”‚  â—€ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â–¶  â”‚ â†ã‚¹ãƒ¯ã‚¤ãƒ—ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”‚                             â”‚
â”‚  æ—¥ æœˆ ç« æ°´ æœ¨ é‡‘ åœŸ         â”‚
â”‚  1  2  3  4  5  6  7        â”‚
â”‚  8  9 10 11 12 â—13 14       â”‚ â—=é¸æŠæ—¥
â”‚ 15 16 17 18 19 20 21        â”‚
â”‚ 22 23 24 25 26 27 28        â”‚
â”‚ 29 30 31                    â”‚
â”‚                             â”‚
â”‚ ğŸ’¡ å¹³æ—¥ãŒãŠã™ã™ã‚ã§ã™         â”‚ â†ãƒ’ãƒ³ãƒˆè¡¨ç¤º
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ä»•æ§˜
```javascript
// æ—¥ç¨‹é¸æŠã®ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³
const CalendarInteraction = {
  // ã‚¿ãƒƒãƒ—æ“ä½œ
  onDateTap: {
    feedback: 'haptic-light',        // è§¦è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    animation: 'bounce-scale',       // é¸æŠã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
    duration: 150,                   // ms
    ripple: true                     // ãƒªãƒƒãƒ—ãƒ«ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
  },
  
  // ã‚¹ãƒ¯ã‚¤ãƒ—æ“ä½œ
  onSwipe: {
    threshold: 50,                   // px
    direction: 'horizontal',         // æ¨ªã‚¹ãƒ¯ã‚¤ãƒ—ã®ã¿
    preventDefault: true,            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œã‚’ç„¡åŠ¹åŒ–
    animation: 'slide-transition'    // ãƒšãƒ¼ã‚¸é·ç§»ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
  },
  
  // ç©ºãçŠ¶æ³è¡¨ç¤º
  availability: {
    available: 'âšª',                // ç©ºãã‚ã‚Š
    limited: 'ğŸ”¸',                  // æ®‹ã‚Šã‚ãšã‹
    full: 'âŒ',                     // æº€å¸­
    past: 'âš«',                     // éå»æ—¥
    holiday: 'ğŸŒ'                   // ä¼‘æ¥­æ—¥
  }
};
```

### 2. æ™‚é–“é¸æŠç”»é¢

#### UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† 12æœˆ13æ—¥(é‡‘)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ ğŸ• ã”å¸Œæœ›ã®æ™‚é–“ã‚’é¸æŠ         â”‚
â”‚                             â”‚
â”‚ â° ãŠã™ã™ã‚æ™‚é–“å¸¯             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 14:00ã€œ15:30            â”‚    â”‚
â”‚ â”‚ ã‚«ãƒƒãƒˆãƒ»ã‚«ãƒ©ãƒ¼          â”‚    â”‚
â”‚ â”‚ å±±ç”°ã‚¹ã‚¿ã‚¤ãƒªã‚¹ãƒˆ        â”‚    â”‚ â†æ¨å¥¨ã‚¹ãƒ­ãƒƒãƒˆ
â”‚ â”‚ ğŸ¯ ãŠå¾—ãªå¹³æ—¥æ–™é‡‘       â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸŒ… åˆå‰                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚09:00â”‚ â”‚10:30â”‚            â”‚
â”‚ â”‚ã€œ   â”‚ â”‚ã€œ   â”‚            â”‚
â”‚ â”‚10:30â”‚ â”‚12:00â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                             â”‚
â”‚ ğŸŒ åˆå¾Œ                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚13:00â”‚ â”‚14:30â”‚ â”‚16:00â”‚    â”‚
â”‚ â”‚ã€œ   â”‚ â”‚ã€œ   â”‚ â”‚ã€œ   â”‚    â”‚
â”‚ â”‚14:30â”‚ â”‚16:00â”‚ â”‚17:30â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸŒ™ å¤œé–“                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚18:00â”‚ â”‚19:30â”‚            â”‚
â”‚ â”‚ã€œ   â”‚ â”‚ã€œ   â”‚            â”‚
â”‚ â”‚19:30â”‚ â”‚21:00â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æ™‚é–“ã‚¹ãƒ­ãƒƒãƒˆå‹•çš„è¡¨ç¤º
```javascript
// æ™‚é–“ã‚¹ãƒ­ãƒƒãƒˆã®å‹•çš„è¡¨ç¤ºãƒ­ã‚¸ãƒƒã‚¯
const TimeSlotLogic = {
  // ã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ
  generateSlots: (date, services) => {
    const slots = [];
    const businessHours = getBusinessHours(date);
    const existingAppointments = getExistingAppointments(date);
    
    // 30åˆ†é–“éš”ã§ã‚¹ãƒ­ãƒƒãƒˆç”Ÿæˆ
    for (let hour = businessHours.start; hour < businessHours.end; hour += 0.5) {
      const slot = {
        start: formatTime(hour),
        end: formatTime(hour + getDuration(services)),
        available: checkAvailability(hour, existingAppointments),
        staff: getAvailableStaff(hour),
        price: calculatePrice(services, hour, date.getDay()),
        recommended: isRecommendedTime(hour, date.getDay())
      };
      
      if (slot.available) {
        slots.push(slot);
      }
    }
    
    return slots.sort((a, b) => {
      // ãŠã™ã™ã‚é †ã§ã‚½ãƒ¼ãƒˆ
      if (a.recommended && !b.recommended) return -1;
      if (!a.recommended && b.recommended) return 1;
      return a.start.localeCompare(b.start);
    });
  },

  // æ–™é‡‘è¨ˆç®—
  calculatePrice: (services, hour, dayOfWeek) => {
    let basePrice = services.reduce((sum, service) => sum + service.price, 0);
    
    // æ™‚é–“å¸¯å‰²å¼•
    if (hour >= 9 && hour < 12) {
      basePrice *= 0.9; // åˆå‰10%ã‚ªãƒ•
    }
    
    // å¹³æ—¥å‰²å¼•
    if (dayOfWeek >= 1 && dayOfWeek <= 5) {
      basePrice *= 0.95; // å¹³æ—¥5%ã‚ªãƒ•
    }
    
    return Math.floor(basePrice);
  }
};
```

### 3. ã‚µãƒ¼ãƒ“ã‚¹é¸æŠç”»é¢

#### UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† 12æœˆ13æ—¥(é‡‘) 14:00         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ âœ‚ï¸ ã‚µãƒ¼ãƒ“ã‚¹ã‚’é¸æŠ             â”‚
â”‚                             â”‚
â”‚ ğŸ‘¤ æ‹…å½“ã‚¹ã‚¿ãƒƒãƒ•              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ğŸ‘© å±±ç”° ç¾å’²            â”‚    â”‚
â”‚ â”‚ â­â­â­â­â­ 4.9        â”‚    â”‚
â”‚ â”‚ ğŸ’¬ "ä¸å¯§ã§æŠ€è¡“ãŒé«˜ã„"   â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸ“‹ ãƒ¡ãƒ‹ãƒ¥ãƒ¼                  â”‚
â”‚                             â”‚
â”‚ ğŸ”¥ äººæ°—ãƒ¡ãƒ‹ãƒ¥ãƒ¼              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“    â”‚
â”‚ â”ƒ âœ“ ã‚«ãƒƒãƒˆ + ã‚«ãƒ©ãƒ¼      â”ƒ    â”‚ â†é¸æŠæ¸ˆã¿
â”‚ â”ƒ   90åˆ† Â¥8,900        â”ƒ    â”‚
â”‚ â”ƒ   (Â¥1,200ãŠå¾—!)      â”ƒ    â”‚
â”‚ â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›    â”‚
â”‚                             â”‚
â”‚ ğŸ’‡â€â™€ï¸ ã‚«ãƒƒãƒˆ                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ â–¡ ãƒ¬ãƒ‡ã‚£ãƒ¼ã‚¹ã‚«ãƒƒãƒˆ      â”‚    â”‚
â”‚ â”‚   45åˆ† Â¥4,500        â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸ¨ ã‚«ãƒ©ãƒ¼                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ â–¡ å…¨ä½“ã‚«ãƒ©ãƒ¼           â”‚    â”‚
â”‚ â”‚   60åˆ† Â¥6,800        â”‚    â”‚
â”‚ â”‚ â–¡ ãƒã‚¤ãƒ©ã‚¤ãƒˆ          â”‚    â”‚
â”‚ â”‚   90åˆ† Â¥9,800        â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚ åˆè¨ˆæ™‚é–“: 90åˆ†               â”‚
â”‚ åˆè¨ˆæ–™é‡‘: Â¥8,900            â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚      æ¬¡ã¸é€²ã‚€        â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ã‚¹ãƒãƒ¼ãƒˆãƒ¬ã‚³ãƒ¡ãƒ³ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
```javascript
// AIé§†å‹•ã®ã‚µãƒ¼ãƒ“ã‚¹æ¨è–¦ã‚·ã‚¹ãƒ†ãƒ 
const ServiceRecommendation = {
  // é¡§å®¢å±¥æ­´ãƒ™ãƒ¼ã‚¹æ¨è–¦
  getHistoryBasedRecommendations: (customerId) => {
    const history = getCustomerHistory(customerId);
    const preferences = analyzePreferences(history);
    
    return {
      frequentServices: preferences.mostUsed,
      seasonalRecommendations: getSeasonalServices(),
      upgradeOpportunities: suggestUpgrades(preferences),
      bundleDeals: createBundleOffers(preferences)
    };
  },

  // æ™‚é–“å¸¯ãƒ™ãƒ¼ã‚¹æ¨è–¦
  getTimeBasedRecommendations: (timeSlot) => {
    if (timeSlot.hour >= 9 && timeSlot.hour < 12) {
      return {
        title: 'åˆå‰é™å®šãƒ¡ãƒ‹ãƒ¥ãƒ¼',
        discount: 0.1,
        services: ['ã‚¯ã‚¤ãƒƒã‚¯ã‚«ãƒƒãƒˆ', 'ãƒ˜ãƒƒãƒ‰ã‚¹ãƒ‘']
      };
    }
    return null;
  },

  // å‹•çš„ä¾¡æ ¼è¨ˆç®—
  calculateDynamicPricing: (services, timeSlot, customer) => {
    let totalPrice = services.reduce((sum, service) => sum + service.basePrice, 0);
    
    // æ™‚é–“å¸¯èª¿æ•´
    totalPrice *= timeSlot.priceMultiplier;
    
    // é¡§å®¢ãƒ©ãƒ³ã‚¯èª¿æ•´
    totalPrice *= customer.loyaltyMultiplier;
    
    // ã‚»ãƒƒãƒˆå‰²å¼•
    if (services.length > 1) {
      totalPrice *= 0.9;
    }
    
    return {
      originalPrice: services.reduce((sum, s) => sum + s.basePrice, 0),
      finalPrice: Math.floor(totalPrice),
      savings: Math.floor(totalPrice * 0.1),
      discounts: getAppliedDiscounts(services, timeSlot, customer)
    };
  }
};
```

### 4. ç¢ºèªç”»é¢

#### UIæ§‹æˆ
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† äºˆç´„å†…å®¹ã‚’ç¢ºèª              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚ âœ… äºˆç´„å†…å®¹                  â”‚
â”‚                             â”‚
â”‚ ğŸ“… æ—¥æ™‚                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ 2024å¹´12æœˆ13æ—¥(é‡‘)      â”‚    â”‚
â”‚ â”‚ 14:00 ã€œ 15:30        â”‚    â”‚
â”‚ â”‚ 90åˆ†                  â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸ‘¤ æ‹…å½“ã‚¹ã‚¿ãƒƒãƒ•              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ å±±ç”° ç¾å’²ã•ã‚“          â”‚    â”‚
â”‚ â”‚ â­ 4.9 (127ä»¶)        â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ âœ‚ï¸ ã‚µãƒ¼ãƒ“ã‚¹                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ â€¢ ã‚«ãƒƒãƒˆ (45åˆ†)        â”‚    â”‚
â”‚ â”‚ â€¢ å…¨ä½“ã‚«ãƒ©ãƒ¼ (60åˆ†)     â”‚    â”‚
â”‚ â”‚                      â”‚    â”‚
â”‚ â”‚ ã‚»ãƒƒãƒˆå‰²å¼•: -Â¥1,200    â”‚    â”‚
â”‚ â”‚ å¹³æ—¥å‰²å¼•: -Â¥450       â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸ’³ ãŠæ”¯æ‰•ã„                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ å°è¨ˆ: Â¥10,300         â”‚    â”‚
â”‚ â”‚ å‰²å¼•: -Â¥1,650         â”‚    â”‚
â”‚ â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚    â”‚
â”‚ â”‚ åˆè¨ˆ: Â¥8,650          â”‚    â”‚
â”‚ â”‚                      â”‚    â”‚
â”‚ â”‚ ğŸ’ 50pt ç²å¾—äºˆå®š       â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ğŸ“ å‚™è€ƒãƒ»è¦æœ›                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ å‰å›ã‚ˆã‚Šå°‘ã—çŸ­ã‚ã«...   â”‚    â”‚ â†å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚      äºˆç´„ã‚’ç¢ºå®š       â”‚    â”‚ â†ãƒ¡ã‚¤ãƒ³CTA
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                             â”‚
â”‚ ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã¯2æ™‚é–“å‰ã¾ã§å¯èƒ½   â”‚ â†æ³¨æ„äº‹é …
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æœ€çµ‚ç¢ºèªãƒ—ãƒ­ã‚»ã‚¹
```javascript
// äºˆç´„ç¢ºå®šãƒ—ãƒ­ã‚»ã‚¹
const BookingConfirmation = {
  // äºˆç´„ãƒ‡ãƒ¼ã‚¿ã®æ¤œè¨¼
  validateBooking: (bookingData) => {
    const validations = [
      validateTimeSlot(bookingData.dateTime),
      validateServices(bookingData.services),
      validateStaffAvailability(bookingData.staff, bookingData.dateTime),
      validateCustomerData(bookingData.customer)
    ];
    
    const errors = validations.filter(v => !v.valid);
    
    if (errors.length > 0) {
      throw new BookingValidationError(errors);
    }
    
    return true;
  },

  // äºˆç´„ã®ä½œæˆ
  createBooking: async (bookingData) => {
    try {
      // 1. æœ€çµ‚æ¤œè¨¼
      this.validateBooking(bookingData);
      
      // 2. äºˆç´„ã‚’ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡
      const response = await apiClient.post('/appointments', bookingData);
      
      if (response.ok) {
        const appointment = await response.json();
        
        // 3. ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ä¿å­˜
        await storageService.saveAppointment(appointment);
        
        // 4. ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€šçŸ¥ã‚’ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
        await notificationService.scheduleAppointmentReminder(appointment);
        
        // 5. æˆåŠŸã‚¤ãƒ™ãƒ³ãƒˆã‚’ç™ºç«
        this.dispatchBookingEvent('success', appointment);
        
        return appointment;
      }
    } catch (error) {
      // ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã¯åŒæœŸã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
      if (!navigator.onLine) {
        await syncService.saveOfflineAction('appointment_create', bookingData);
        this.dispatchBookingEvent('offline', bookingData);
      } else {
        this.dispatchBookingEvent('error', error);
        throw error;
      }
    }
  },

  // ã‚¤ãƒ™ãƒ³ãƒˆé…ä¿¡
  dispatchBookingEvent: (type, data) => {
    const event = new CustomEvent(`booking-${type}`, { detail: data });
    window.dispatchEvent(event);
  }
};
```

---

## ğŸš€ é«˜é€ŸåŒ–ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### 1. ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰æˆ¦ç•¥

```javascript
// ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
const PreloadStrategy = {
  // ç”»é¢é·ç§»å‰ã®ãƒ‡ãƒ¼ã‚¿ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
  preloadNextScreen: async (currentScreen, nextScreen) => {
    switch (nextScreen) {
      case 'timeSlots':
        // æ™‚é–“ã‚¹ãƒ­ãƒƒãƒˆãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
        const selectedDate = getCurrentSelectedDate();
        if (selectedDate) {
          preloadTimeSlots(selectedDate);
        }
        break;
        
      case 'services':
        // ã‚µãƒ¼ãƒ“ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
        preloadServices();
        preloadStaffInfo();
        break;
        
      case 'confirmation':
        // æ–™é‡‘è¨ˆç®—ã®ãƒ—ãƒªãƒ­ãƒ¼ãƒ‰
        const selectedServices = getCurrentSelectedServices();
        if (selectedServices.length > 0) {
          preloadPriceCalculation(selectedServices);
        }
        break;
    }
  },

  // ç”»åƒã®å…ˆèª­ã¿
  preloadImages: async (imageUrls) => {
    const promises = imageUrls.map(url => {
      return new Promise((resolve, reject) => {
        const img = new Image();
        img.onload = resolve;
        img.onerror = reject;
        img.src = url;
      });
    });
    
    try {
      await Promise.all(promises);
      console.log('[Preload] Images loaded successfully');
    } catch (error) {
      console.warn('[Preload] Some images failed to load:', error);
    }
  }
};
```

### 2. å…¥åŠ›äºˆæ¸¬ãƒ»ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ

```javascript
// ã‚¹ãƒãƒ¼ãƒˆå…¥åŠ›è£œå®Œ
const SmartInput = {
  // é¡§å®¢ã®éå»å…¥åŠ›ã‹ã‚‰äºˆæ¸¬
  predictInput: (inputField, customerId) => {
    const history = getCustomerInputHistory(customerId, inputField);
    const predictions = analyzeInputPatterns(history);
    
    return predictions.slice(0, 3); // ä¸Šä½3ã¤ã‚’è¿”ã™
  },

  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ å…¥åŠ›è£œå®Œ
  setupAutoComplete: (inputElement, predictions) => {
    let debounceTimer;
    
    inputElement.addEventListener('input', (e) => {
      clearTimeout(debounceTimer);
      
      debounceTimer = setTimeout(() => {
        const value = e.target.value;
        const matches = predictions.filter(p => 
          p.toLowerCase().includes(value.toLowerCase())
        );
        
        showAutoCompleteDropdown(matches, inputElement);
      }, 300);
    });
  }
};
```

### 3. ã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼æœ€é©åŒ–

```javascript
// ã‚¿ãƒƒãƒã‚¸ã‚§ã‚¹ãƒãƒ£ãƒ¼ã®æœ€é©åŒ–
const GestureOptimization = {
  // ãƒãƒ«ãƒã‚¿ãƒƒãƒå¯¾å¿œ
  setupMultiTouch: (element) => {
    let touchStartTime = 0;
    let touchCount = 0;
    
    element.addEventListener('touchstart', (e) => {
      touchStartTime = Date.now();
      touchCount = e.touches.length;
      
      // ãƒ€ãƒ–ãƒ«ã‚¿ãƒƒãƒ—æ¤œå‡º
      if (touchCount === 1) {
        setTimeout(() => {
          if (Date.now() - touchStartTime < 300) {
            handleDoubleTap(e);
          }
        }, 300);
      }
    });
  },

  // ã‚¹ãƒ¯ã‚¤ãƒ—æ„Ÿåº¦èª¿æ•´
  optimizeSwipeDetection: (element) => {
    let startX = 0;
    let startY = 0;
    let threshold = 50;
    
    element.addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });
    
    element.addEventListener('touchend', (e) => {
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      
      const deltaX = endX - startX;
      const deltaY = endY - startY;
      
      // æ°´å¹³ã‚¹ãƒ¯ã‚¤ãƒ—ã®æ¤œå‡º
      if (Math.abs(deltaX) > threshold && Math.abs(deltaX) > Math.abs(deltaY)) {
        if (deltaX > 0) {
          handleSwipeRight();
        } else {
          handleSwipeLeft();
        }
      }
    });
  }
};
```

---

## ğŸ“Š åˆ†æãƒ»æ”¹å–„

### 1. ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°

```javascript
// äºˆç´„ãƒ•ãƒ­ãƒ¼åˆ†æ
const BookingFlowAnalytics = {
  // ã‚¹ãƒ†ãƒƒãƒ—åˆ¥é›¢è„±ç‡ã®è¨ˆæ¸¬
  trackStepCompletion: (step, timeSpent) => {
    analytics.track('booking_step_completed', {
      step,
      timeSpent,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent
    });
  },

  // é›¢è„±ãƒã‚¤ãƒ³ãƒˆã®ç‰¹å®š
  trackAbandonedBooking: (lastStep, reason) => {
    analytics.track('booking_abandoned', {
      lastStep,
      reason,
      timestamp: new Date().toISOString()
    });
  },

  // A/Bãƒ†ã‚¹ãƒˆç”¨ã®ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³
  getBookingFlowVariation: () => {
    const variations = ['standard', 'express', 'guided'];
    const userId = getCurrentUserId();
    const hash = simpleHash(userId);
    
    return variations[hash % variations.length];
  }
};
```

ã“ã®è©³ç´°ãªäºˆç´„ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã«ã‚ˆã‚Šã€ç¾å®¹å®¤é¡§å®¢ã«æœ€é©åŒ–ã•ã‚ŒãŸç›´æ„Ÿçš„ã§é«˜é€Ÿãªäºˆç´„ä½“é¨“ã‚’æä¾›ã§ãã¾ã™ã€‚å„ã‚¹ãƒ†ãƒƒãƒ—ã§ã®é›¢è„±ã‚’æœ€å°é™ã«æŠ‘ãˆã€ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ã‚’æœ€å¤§åŒ–ã™ã‚‹è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚