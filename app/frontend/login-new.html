<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#f8e5e1">
    <link rel="manifest" href="/manifest.json">
    <title>Salon Lumière - ログイン (New Architecture)</title>
    
    <!-- Fonts - Preload for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- NEW: Updated CSS Architecture -->
    <link rel="stylesheet" href="/css/salon-main.css?v=2.0.0">
    
    <!-- Skip to content for accessibility -->
    <a href="#main-content" class="sms-skip-to-content">Skip to content</a>
</head>
<body class="sms-min-h-screen sms-flex sms-items-center sms-justify-center sms-relative sms-bg-primary-50 sms-overflow-x-hidden">
    
    <!-- Animated background elements using new design system -->
    <div class="bg-circle bg-circle--1"></div>
    <div class="bg-circle bg-circle--2"></div>
    <div class="bg-circle bg-circle--3"></div>
    
    <!-- Main login container -->
    <main id="main-content" class="sms-container sms-container--sm sms-relative sms-z-10">
        <div class="sms-card sms-card--elevated sms-max-w-md sms-mx-auto">
            
            <!-- Login header -->
            <div class="sms-card__header sms-text-center">
                <h1 class="sms-text-3xl sms-font-serif sms-text-primary-700 sms-mb-2">
                    Salon Lumière
                </h1>
                <p class="sms-text-sm sms-text-neutral-600">
                    美容室管理システムにログイン
                </p>
            </div>
            
            <!-- Login form -->
            <div class="sms-card__body">
                <form id="loginForm" class="sms-space-y-6">
                    
                    <!-- Email field -->
                    <div class="sms-form-group">
                        <label for="email" class="sms-label sms-label--required">
                            メールアドレス
                        </label>
                        <div class="sms-input-wrapper">
                            <svg class="sms-input-wrapper__icon" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path>
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path>
                            </svg>
                            <input 
                                type="email" 
                                id="email" 
                                name="email" 
                                class="sms-input" 
                                placeholder="your@email.com"
                                required
                                autocomplete="email"
                                aria-describedby="email-error"
                            >
                        </div>
                        <span id="email-error" class="sms-form-message sms-form-message--error sms-hidden" role="alert">
                            有効なメールアドレスを入力してください
                        </span>
                    </div>
                    
                    <!-- Password field -->
                    <div class="sms-form-group">
                        <label for="password" class="sms-label sms-label--required">
                            パスワード
                        </label>
                        <div class="sms-input-wrapper">
                            <svg class="sms-input-wrapper__icon" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"></path>
                            </svg>
                            <input 
                                type="password" 
                                id="password" 
                                name="password" 
                                class="sms-input" 
                                placeholder="パスワードを入力"
                                required
                                autocomplete="current-password"
                                aria-describedby="password-error"
                            >
                        </div>
                        <span id="password-error" class="sms-form-message sms-form-message--error sms-hidden" role="alert">
                            パスワードを入力してください
                        </span>
                    </div>
                    
                    <!-- Remember me -->
                    <div class="sms-form-check">
                        <input type="checkbox" id="remember" name="remember" class="sms-checkbox">
                        <label for="remember" class="sms-form-check__label">
                            ログイン状態を保持する
                        </label>
                    </div>
                    
                    <!-- Submit button -->
                    <button 
                        type="submit" 
                        class="sms-btn sms-btn--primary sms-btn--lg sms-w-full"
                        id="loginBtn"
                    >
                        <span id="loginBtnText">ログイン</span>
                        <div id="loginSpinner" class="sms-spinner sms-spinner--sm sms-hidden"></div>
                    </button>
                    
                    <!-- Loading state demo -->
                    <div class="sms-alert sms-alert--info sms-hidden" id="loadingAlert">
                        <svg class="sms-alert__icon" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"></path>
                        </svg>
                        <div class="sms-alert__content">
                            <div class="sms-alert__title">認証中...</div>
                            <p class="sms-alert__message">システムにログインしています。しばらくお待ちください。</p>
                        </div>
                    </div>
                    
                    <!-- Error alert -->
                    <div class="sms-alert sms-alert--error sms-hidden" id="errorAlert">
                        <svg class="sms-alert__icon" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path>
                        </svg>
                        <div class="sms-alert__content">
                            <div class="sms-alert__title">ログインに失敗しました</div>
                            <p class="sms-alert__message" id="errorMessage">メールアドレスまたはパスワードが正しくありません。</p>
                        </div>
                        <button type="button" class="sms-alert__close" aria-label="エラーを閉じる">
                            <svg width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                                <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                            </svg>
                        </button>
                    </div>
                    
                </form>
            </div>
            
            <!-- Login footer -->
            <div class="sms-card__footer sms-text-center">
                <p class="sms-text-sm sms-text-neutral-500">
                    アカウントをお持ちでない場合は、管理者にお問い合わせください。
                </p>
            </div>
            
        </div>
        
        <!-- Demo controls -->
        <div class="sms-mt-8 sms-text-center">
            <div class="sms-bg-white sms-p-4 sms-rounded-lg sms-shadow-sm sms-max-w-md sms-mx-auto">
                <h3 class="sms-text-lg sms-font-semibold sms-mb-4 sms-text-neutral-800">
                    New Architecture Demo
                </h3>
                <div class="sms-flex sms-gap-2 sms-justify-center sms-flex-wrap">
                    <button id="demoError" class="sms-btn sms-btn--outline sms-btn--sm">
                        Show Error
                    </button>
                    <button id="demoLoading" class="sms-btn sms-btn--outline sms-btn--sm">
                        Show Loading
                    </button>
                    <button id="demoSuccess" class="sms-btn sms-btn--outline sms-btn--sm">
                        Show Success
                    </button>
                    <button id="resetDemo" class="sms-btn sms-btn--ghost sms-btn--sm">
                        Reset
                    </button>
                </div>
                <div class="sms-mt-3">
                    <span class="sms-badge sms-badge--primary">CSS Architecture v2.0</span>
                    <span class="sms-badge sms-badge--secondary sms-badge--outline">SMACSS + BEM</span>
                </div>
            </div>
        </div>
        
    </main>
    
    <!-- Custom styles for this page using new design system -->
    <style>
        /* Background animation circles using new CSS variables */
        .bg-circle {
            position: absolute;
            border-radius: var(--sms-radius-full);
            background: linear-gradient(135deg, var(--sms-primary-500) 0%, var(--sms-secondary-500) 100%);
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
            pointer-events: none;
        }
        
        .bg-circle--1 {
            width: 300px;
            height: 300px;
            top: -150px;
            left: -150px;
            animation-delay: 0s;
        }
        
        .bg-circle--2 {
            width: 200px;
            height: 200px;
            bottom: -100px;
            right: -100px;
            animation-delay: 5s;
        }
        
        .bg-circle--3 {
            width: 150px;
            height: 150px;
            top: 50%;
            left: -75px;
            animation-delay: 10s;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            33% {
                transform: translateY(-20px) rotate(120deg);
            }
            66% {
                transform: translateY(-10px) rotate(240deg);
            }
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
            .bg-circle {
                display: none; /* Hide background elements on small screens */
            }
        }
    </style>
    
    <!-- JavaScript for demo functionality -->
    <script>
        // Demo functionality
        const demoError = document.getElementById('demoError');
        const demoLoading = document.getElementById('demoLoading');
        const demoSuccess = document.getElementById('demoSuccess');
        const resetDemo = document.getElementById('resetDemo');
        const errorAlert = document.getElementById('errorAlert');
        const loadingAlert = document.getElementById('loadingAlert');
        const loginBtn = document.getElementById('loginBtn');
        
        demoError.addEventListener('click', () => {
            errorAlert.classList.remove('sms-hidden');
            loadingAlert.classList.add('sms-hidden');
        });
        
        demoLoading.addEventListener('click', () => {
            loadingAlert.classList.remove('sms-hidden');
            errorAlert.classList.add('sms-hidden');
            loginBtn.classList.add('is-loading');
        });
        
        demoSuccess.addEventListener('click', () => {
            // Simulate successful login
            const successAlert = document.createElement('div');
            successAlert.className = 'sms-alert sms-alert--success';
            successAlert.innerHTML = `
                <svg class="sms-alert__icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <div class="sms-alert__content">
                    <div class="sms-alert__title">ログインに成功しました</div>
                    <p class="sms-alert__message">ダッシュボードにリダイレクトしています...</p>
                </div>
            `;
            
            errorAlert.classList.add('sms-hidden');
            loadingAlert.classList.add('sms-hidden');
            document.querySelector('.sms-card__body').appendChild(successAlert);
            
            setTimeout(() => successAlert.remove(), 3000);
        });
        
        resetDemo.addEventListener('click', () => {
            errorAlert.classList.add('sms-hidden');
            loadingAlert.classList.add('sms-hidden');
            loginBtn.classList.remove('is-loading');
        });
        
        // Close error alert
        document.querySelector('.sms-alert__close').addEventListener('click', () => {
            errorAlert.classList.add('sms-hidden');
        });
        
        // Form validation demo
        document.getElementById('loginForm').addEventListener('submit', (e) => {
            e.preventDefault();
            demoLoading.click(); // Trigger loading demo
            setTimeout(() => demoSuccess.click(), 2000); // Auto success after 2s
        });
    </script>
</body>
</html>