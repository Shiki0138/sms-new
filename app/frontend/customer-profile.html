<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡§å®¢è©³ç´°ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« - Salon LumiÃ¨re</title>
    <link rel="stylesheet" href="/css/legacy/main-unified.css?v=20250907">
    <link rel="stylesheet" href="/css/mobile-navigation.css">
    <style>
        .profile-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .profile-header {
            background: linear-gradient(135deg, var(--primary-light) 0%, var(--secondary) 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 2rem;
        }
        
        .customer-avatar {
            width: 100px;
            height: 100px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            box-shadow: var(--shadow-lg);
        }
        
        .customer-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .summary-item {
            background: rgba(255,255,255,0.7);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }
        
        .summary-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .summary-label {
            font-size: 0.9rem;
            color: var(--text-medium);
            margin-top: 0.25rem;
        }
        
        .content-sections {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .section-card {
            background: var(--white);
            border-radius: 16px;
            padding: 2rem;
            box-shadow: var(--shadow-md);
        }
        
        .section-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            border-bottom: 3px solid var(--primary);
            padding-bottom: 0.5rem;
        }
        
        .visit-item {
            background: var(--gray-50);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary);
        }
        
        .visit-date {
            font-weight: 600;
            color: var(--primary);
            font-size: 1rem;
            margin-bottom: 0.5rem;
        }
        
        .visit-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }
        
        .detail-item {
            font-size: 0.9rem;
        }
        
        .detail-label {
            font-weight: 500;
            color: var(--text-medium);
        }
        
        .treatment-photos {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .photo-thumbnail {
            width: 60px;
            height: 60px;
            background: var(--gray-200);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .photo-thumbnail:hover {
            transform: scale(1.1);
        }
        
        .personal-notes {
            background: var(--info-light);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            border-left: 4px solid var(--info);
        }
        
        .alert-section {
            background: var(--warning-light);
            border: 2px solid var(--warning);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .alert-title {
            font-weight: 600;
            color: var(--warning);
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã¸ã‚¹ã‚­ãƒƒãƒ—</a>
    <button class="mobile-menu-toggle" id="mobileMenuToggle">â˜°</button>
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-wrapper">âœ¨</div>
            <h2 class="salon-name">Salon LumiÃ¨re</h2>
            <span class="plan-badge">PREMIUM</span>
        </div>

        <nav class="nav-menu">
            <a href="/dashboard.html" class="nav-item">
                <span class="nav-icon">ğŸ </span>
                <span>ãƒ›ãƒ¼ãƒ </span>
            </a>
            <a href="/appointments.html" class="nav-item">
                <span class="nav-icon">ğŸ“…</span>
                <span>äºˆç´„</span>
            </a>
            <a href="/customers.html" class="nav-item active">
                <span class="nav-icon">ğŸ‘¥</span>
                <span>é¡§å®¢</span>
            </a>
            <a href="/messages.html" class="nav-item">
                <span class="nav-icon">ğŸ’¬</span>
                <span>é€£çµ¡</span>
            </a>
            <a href="/reports.html" class="nav-item">
                <span class="nav-icon">ğŸ“ˆ</span>
                <span>å£²ä¸Š</span>
            </a>
            <a href="/settings.html" class="nav-item">
                <span class="nav-icon">âš™ï¸</span>
                <span>è¨­å®š</span>
            </a>
        </nav>

        <div class="user-section">
            <div class="user-info">
                <div class="user-avatar">ç®¡</div>
                <div class="user-details">
                    <div class="user-name">ç®¡ç†è€…</div>
                    <div class="user-role">Administrator</div>
                </div>
            </div>
            <button class="logout-btn" id="logoutBtn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
        </div>
    </aside>

    <main class="main-content" id="main-content">
        <div class="profile-container">
            <!-- é¡§å®¢ãƒ˜ãƒƒãƒ€ãƒ¼ -->
            <div class="profile-header">
                <div class="customer-avatar" id="customerAvatar">å±±</div>
                <div style="flex: 1;">
                    <h1 id="customerName" style="margin: 0 0 1rem 0; font-size: 2rem; color: var(--text-dark);">å±±ç”° èŠ±å­ æ§˜</h1>
                    
                    <div class="customer-summary">
                        <div class="summary-item">
                            <div class="summary-value" id="visitCount">23</div>
                            <div class="summary-label">æ¥åº—å›æ•°</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-value" id="totalSpent">Â¥128,000</div>
                            <div class="summary-label">ç´¯è¨ˆé‡‘é¡</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-value" id="lastVisit">3/14</div>
                            <div class="summary-label">æœ€çµ‚æ¥åº—</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-value" id="avgSpent">Â¥5,565</div>
                            <div class="summary-label">å¹³å‡å˜ä¾¡</div>
                        </div>
                        <div class="summary-item">
                            <div class="summary-value" id="membershipLevel">VIP</div>
                            <div class="summary-label">ä¼šå“¡ãƒ©ãƒ³ã‚¯</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- é‡è¦ãªåŒ»ç™‚æƒ…å ±ãƒ»ã‚¢ãƒ©ãƒ¼ãƒˆ -->
            <div class="alert-section">
                <div class="alert-title">âš ï¸ é‡è¦ãªåŒ»ç™‚æƒ…å ±ãƒ»æ³¨æ„äº‹é …</div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1rem;">
                    <div>
                        <strong>ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼:</strong> ã‚¸ã‚¢ãƒŸãƒ³ç³»ã‚«ãƒ©ãƒ¼å‰¤<br>
                        <strong>ç—‡çŠ¶:</strong> ã‹ã‚†ã¿ãƒ»ç™ºç–¹<br>
                        <strong>å¯¾å¿œ:</strong> ãƒ‘ãƒƒãƒãƒ†ã‚¹ãƒˆå¿…é ˆ
                    </div>
                    <div>
                        <strong>è‚Œè³ª:</strong> æ•æ„Ÿè‚Œ<br>
                        <strong>é«ªè³ª:</strong> ç´°æ¯›ãƒ»ã‚„ã‚ã‚‰ã‹ã„<br>
                        <strong>é ­çš®:</strong> ä¹¾ç‡¥ã—ã‚„ã™ã„
                    </div>
                </div>
            </div>

            <div class="content-sections">
                <!-- å·¦å´ï¼šåŸºæœ¬æƒ…å ±ãƒ»é€£çµ¡å…ˆ -->
                <div class="section-card">
                    <h2 class="section-title">ğŸ‘¤ åŸºæœ¬æƒ…å ±</h2>
                    
                    <div style="display: grid; gap: 1rem;">
                        <div class="personal-notes">
                            <h3 style="margin: 0 0 1rem 0; color: var(--info);">é€£çµ¡å…ˆæƒ…å ±</h3>
                            <div style="display: grid; gap: 0.5rem;">
                                <div><strong>é›»è©±ç•ªå·:</strong> <span id="phoneNumber">090-1234-5678</span></div>
                                <div><strong>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹:</strong> <span id="emailAddress">yamada@email.com</span></div>
                                <div><strong>LINE ID:</strong> <span id="lineId">yamada_hanako</span></div>
                                <div><strong>Instagram:</strong> <span id="instagramId">@yamada_beauty</span></div>
                            </div>
                        </div>
                        
                        <div class="personal-notes">
                            <h3 style="margin: 0 0 1rem 0; color: var(--info);">å€‹äººæƒ…å ±</h3>
                            <div style="display: grid; gap: 0.5rem;">
                                <div><strong>ç”Ÿå¹´æœˆæ—¥:</strong> 1985å¹´7æœˆ15æ—¥ (39æ­³)</div>
                                <div><strong>ä½æ‰€:</strong> æ±äº¬éƒ½æ¸‹è°·åŒºâ—‹â—‹1-2-3</div>
                                <div><strong>è·æ¥­:</strong> ä¼šç¤¾å“¡ï¼ˆå–¶æ¥­ï¼‰</div>
                                <div><strong>å®¶æ—æ§‹æˆ:</strong> å¤«ãƒ»å­ä¾›2äºº</div>
                            </div>
                        </div>
                        
                        <div class="personal-notes">
                            <h3 style="margin: 0 0 1rem 0; color: var(--info);">ç¾å®¹ã«é–¢ã™ã‚‹å¸Œæœ›ãƒ»ã“ã ã‚ã‚Š</h3>
                            <div>
                                <div>â€¢ ãƒŠãƒãƒ¥ãƒ©ãƒ«ã§ä¸Šå“ãªä»•ä¸ŠãŒã‚Šå¸Œæœ›</div>
                                <div>â€¢ æœã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãŒæ¥½ã«ãªã‚‹ã‚«ãƒƒãƒˆ</div>
                                <div>â€¢ ç™½é«ªãŒæ°—ã«ãªã‚‹ãŸã‚å®šæœŸçš„ãªã‚«ãƒ©ãƒ¼</div>
                                <div>â€¢ é ­çš®ãƒãƒƒã‚µãƒ¼ã‚¸ãŒå¤§å¥½ã</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å³å´ï¼šæ¥åº—å±¥æ­´ãƒ»æ–½è¡“è¨˜éŒ² -->
                <div class="section-card">
                    <h2 class="section-title">ğŸ“‹ æ¥åº—å±¥æ­´ãƒ»æ–½è¡“è¨˜éŒ²</h2>
                    
                    <div class="treatment-history">
                        <div class="visit-item">
                            <div class="visit-date">2024å¹´3æœˆ14æ—¥ (æœ€æ–°)</div>
                            <div class="visit-details">
                                <div><span class="detail-label">æ–½è¡“:</span> ã‚«ãƒƒãƒˆ + ã‚«ãƒ©ãƒ¼ + ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ</div>
                                <div><span class="detail-label">æ‹…å½“:</span> ç”°ä¸­ã‚¹ã‚¿ãƒƒãƒ•</div>
                                <div><span class="detail-label">æ™‚é–“:</span> 10:00-11:30 (90åˆ†)</div>
                                <div><span class="detail-label">æ–™é‡‘:</span> Â¥12,000</div>
                            </div>
                            <div style="margin: 1rem 0; padding: 1rem; background: var(--white); border-radius: 8px;">
                                <strong>æ–½è¡“è©³ç´°:</strong><br>
                                â€¢ ã‚«ãƒƒãƒˆ: å‰é«ª5mmã€å…¨ä½“3cm<br>
                                â€¢ ã‚«ãƒ©ãƒ¼: 8ãƒˆãƒ¼ãƒ³ã‚¢ãƒƒã‚·ãƒ¥ãƒ–ãƒ©ã‚¦ãƒ³ (ã‚¤ãƒ«ãƒŸãƒŠã‚«ãƒ©ãƒ¼)<br>
                                â€¢ ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ: ã‚ªãƒ©ãƒ—ãƒ¬ãƒƒã‚¯ã‚¹<br>
                                â€¢ ä»•ä¸ŠãŒã‚Š: è»½ã‚„ã‹ã§ä¸Šå“ã€‚ãŠå®¢æ§˜å¤§å¤‰æº€è¶³
                            </div>
                            <div class="treatment-photos">
                                <div class="photo-thumbnail" onclick="viewPhoto('before-20240314')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>Before</div>
                                </div>
                                <div class="photo-thumbnail" onclick="viewPhoto('after-20240314')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>After</div>
                                </div>
                                <div class="photo-thumbnail" onclick="viewPhoto('color-20240314')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>ã‚«ãƒ©ãƒ¼</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="visit-item">
                            <div class="visit-date">2024å¹´1æœˆ20æ—¥</div>
                            <div class="visit-details">
                                <div><span class="detail-label">æ–½è¡“:</span> ã‚«ãƒƒãƒˆ + ãƒ‘ãƒ¼ãƒ</div>
                                <div><span class="detail-label">æ‹…å½“:</span> ä½è—¤ã‚¹ã‚¿ãƒƒãƒ•</div>
                                <div><span class="detail-label">æ™‚é–“:</span> 13:00-15:00 (120åˆ†)</div>
                                <div><span class="detail-label">æ–™é‡‘:</span> Â¥15,000</div>
                            </div>
                            <div style="margin: 1rem 0; padding: 1rem; background: var(--white); border-radius: 8px;">
                                <strong>æ–½è¡“è©³ç´°:</strong><br>
                                â€¢ ã‚«ãƒƒãƒˆ: ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚«ãƒƒãƒˆ<br>
                                â€¢ ãƒ‘ãƒ¼ãƒ: ãƒ‡ã‚¸ã‚¿ãƒ«ãƒ‘ãƒ¼ãƒï¼ˆã‚†ã‚‹ã‚ï¼‰<br>
                                â€¢ ä»•ä¸ŠãŒã‚Š: è‡ªç„¶ãªã‚¦ã‚§ãƒ¼ãƒ–ã€‚é«ªè³ªã«é…æ…®
                            </div>
                            <div class="treatment-photos">
                                <div class="photo-thumbnail" onclick="viewPhoto('before-20240120')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>Before</div>
                                </div>
                                <div class="photo-thumbnail" onclick="viewPhoto('after-20240120')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>After</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="visit-item">
                            <div class="visit-date">2023å¹´12æœˆ10æ—¥</div>
                            <div class="visit-details">
                                <div><span class="detail-label">æ–½è¡“:</span> ã‚«ãƒƒãƒˆ + ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ</div>
                                <div><span class="detail-label">æ‹…å½“:</span> ç”°ä¸­ã‚¹ã‚¿ãƒƒãƒ•</div>
                                <div><span class="detail-label">æ™‚é–“:</span> 14:00-15:15 (75åˆ†)</div>
                                <div><span class="detail-label">æ–™é‡‘:</span> Â¥8,000</div>
                            </div>
                            <div style="margin: 1rem 0; padding: 1rem; background: var(--white); border-radius: 8px;">
                                <strong>æ–½è¡“è©³ç´°:</strong><br>
                                â€¢ ã‚«ãƒƒãƒˆ: æ¯›å…ˆä¸­å¿ƒ<br>
                                â€¢ ãƒˆãƒªãƒ¼ãƒˆãƒ¡ãƒ³ãƒˆ: ä¿æ¹¿é‡ç‚¹<br>
                                â€¢ ä»•ä¸ŠãŒã‚Š: ä¹¾ç‡¥æ”¹å–„ã€ãƒ„ãƒ¤å›å¾©
                            </div>
                            <div class="treatment-photos">
                                <div class="photo-thumbnail" onclick="viewPhoto('after-20231210')">
                                    <div style="text-align: center; font-size: 0.7rem;">ğŸ“·<br>After</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ä¸‹éƒ¨ï¼šè©³ç´°æƒ…å ± -->
            <div class="content-sections">
                <!-- äºˆç´„å±¥æ­´ -->
                <div class="section-card">
                    <h2 class="section-title">ğŸ“… äºˆç´„å±¥æ­´</h2>
                    <div style="display: grid; gap: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2024å¹´3æœˆ14æ—¥</span>
                            <span style="color: var(--success);">æ¥åº—æ¸ˆã¿</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2024å¹´1æœˆ20æ—¥</span>
                            <span style="color: var(--success);">æ¥åº—æ¸ˆã¿</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2023å¹´12æœˆ10æ—¥</span>
                            <span style="color: var(--success);">æ¥åº—æ¸ˆã¿</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--warning-light); border-radius: 4px;">
                            <span>2023å¹´11æœˆ25æ—¥</span>
                            <span style="color: var(--warning);">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</span>
                        </div>
                    </div>
                </div>
                
                <!-- æ”¯æ‰•ã„å±¥æ­´ -->
                <div class="section-card">
                    <h2 class="section-title">ğŸ’° æ”¯æ‰•ã„å±¥æ­´</h2>
                    <div style="display: grid; gap: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2024å¹´3æœˆ14æ—¥</span>
                            <span style="color: var(--success); font-weight: 500;">Â¥12,000</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2024å¹´1æœˆ20æ—¥</span>
                            <span style="color: var(--success); font-weight: 500;">Â¥15,000</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: var(--gray-50); border-radius: 4px;">
                            <span>2023å¹´12æœˆ10æ—¥</span>
                            <span style="color: var(--success); font-weight: 500;">Â¥8,000</span>
                        </div>
                    </div>
                    
                    <div style="margin-top: 1.5rem; padding: 1rem; background: var(--primary-50); border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between; font-weight: 600;">
                            <span>ç·æ”¯æ‰•é¡:</span>
                            <span style="color: var(--primary); font-size: 1.2rem;">Â¥128,000</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-top: 0.5rem;">
                            <span>å¹³å‡å˜ä¾¡:</span>
                            <span>Â¥5,565</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ -->
            <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
                <button class="btn btn-secondary" onclick="editCustomerInfo()">
                    åŸºæœ¬æƒ…å ±ç·¨é›†
                </button>
                <button class="btn btn-secondary" onclick="viewMedicalRecord()">
                    åŒ»ç™‚ã‚«ãƒ«ãƒ†
                </button>
                <button class="btn btn-primary" onclick="createNewAppointment()">
                    æ–°è¦äºˆç´„ä½œæˆ
                </button>
                <button class="btn btn-secondary" onclick="sendMessage()">
                    ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
                </button>
                <button class="btn btn-secondary" onclick="goBackToCustomers()">
                    é¡§å®¢ä¸€è¦§ã«æˆ»ã‚‹
                </button>
            </div>
        </div>
    </main>

    <!-- ãƒ¢ãƒã‚¤ãƒ«åº•éƒ¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
    <nav class="mobile-bottom-nav" role="navigation" aria-label="ãƒ¡ã‚¤ãƒ³ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³">
        <div class="mobile-nav-items">
            <a href="/dashboard.html" class="mobile-nav-item">
                <div class="mobile-nav-icon">ğŸ </div>
                <div class="mobile-nav-label">ãƒ›ãƒ¼ãƒ </div>
            </a>
            <a href="/appointments.html" class="mobile-nav-item">
                <div class="mobile-nav-icon">ğŸ“…</div>
                <div class="mobile-nav-label">äºˆç´„</div>
            </a>
            <a href="/customers.html" class="mobile-nav-item active" aria-current="page">
                <div class="mobile-nav-icon">ğŸ‘¥</div>
                <div class="mobile-nav-label">é¡§å®¢</div>
            </a>
            <a href="/messages.html" class="mobile-nav-item">
                <div class="mobile-nav-icon">ğŸ’¬</div>
                <div class="mobile-nav-label">é€£çµ¡</div>
            </a>
            <a href="/settings.html" class="mobile-nav-item">
                <div class="mobile-nav-icon">âš™ï¸</div>
                <div class="mobile-nav-label">è¨­å®š</div>
            </a>
        </div>
    </nav>

    <script>
        // URLãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‹ã‚‰é¡§å®¢IDã‚’å–å¾—
        const urlParams = new URLSearchParams(window.location.search);
        const customerId = urlParams.get('customer') || '1';
        
        // åŒ…æ‹¬çš„ãªé¡§å®¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
        const customerProfiles = {
            '1': {
                id: 'C-001',
                name: 'å±±ç”° èŠ±å­',
                phone: '090-1234-5678',
                email: 'yamada@email.com',
                lineId: 'yamada_hanako',
                instagramId: '@yamada_beauty',
                birthDate: '1985-07-15',
                address: 'æ±äº¬éƒ½æ¸‹è°·åŒºâ—‹â—‹1-2-3',
                occupation: 'ä¼šç¤¾å“¡ï¼ˆå–¶æ¥­ï¼‰',
                family: 'å¤«ãƒ»å­ä¾›2äºº',
                preferences: [
                    'ãƒŠãƒãƒ¥ãƒ©ãƒ«ã§ä¸Šå“ãªä»•ä¸ŠãŒã‚Šå¸Œæœ›',
                    'æœã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãŒæ¥½ã«ãªã‚‹ã‚«ãƒƒãƒˆ',
                    'ç™½é«ªãŒæ°—ã«ãªã‚‹ãŸã‚å®šæœŸçš„ãªã‚«ãƒ©ãƒ¼',
                    'é ­çš®ãƒãƒƒã‚µãƒ¼ã‚¸ãŒå¤§å¥½ã'
                ],
                visitCount: 23,
                totalSpent: 128000,
                lastVisit: '2024-03-14',
                membershipLevel: 'VIP',
                allergies: {
                    type: 'ã‚¸ã‚¢ãƒŸãƒ³ç³»ã‚«ãƒ©ãƒ¼å‰¤',
                    symptoms: 'ã‹ã‚†ã¿ãƒ»ç™ºç–¹',
                    action: 'ãƒ‘ãƒƒãƒãƒ†ã‚¹ãƒˆå¿…é ˆ'
                },
                medicalInfo: {
                    skin: 'æ•æ„Ÿè‚Œ',
                    hair: 'ç´°æ¯›ãƒ»ã‚„ã‚ã‚‰ã‹ã„',
                    scalp: 'ä¹¾ç‡¥ã—ã‚„ã™ã„'
                }
            },
            '2': {
                id: 'C-002',
                name: 'ä½è—¤ ç¾å’²',
                phone: '080-9876-5432',
                email: 'sato@email.com',
                visitCount: 16,
                totalSpent: 89500,
                lastVisit: '2024-03-08',
                membershipLevel: 'å¸¸é€£'
            }
        };
        
        // ãƒšãƒ¼ã‚¸åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            loadCustomerProfile(customerId);
        });
        
        function loadCustomerProfile(customerId) {
            const customer = customerProfiles[customerId];
            if (!customer) {
                alert('é¡§å®¢ãƒ‡ãƒ¼ã‚¿ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                window.location.href = '/customers.html';
                return;
            }
            
            // åŸºæœ¬æƒ…å ±ã®è¡¨ç¤º
            document.getElementById('customerAvatar').textContent = customer.name[0];
            document.getElementById('customerName').textContent = customer.name + ' æ§˜';
            document.getElementById('visitCount').textContent = customer.visitCount;
            document.getElementById('totalSpent').textContent = 'Â¥' + customer.totalSpent.toLocaleString();
            document.getElementById('lastVisit').textContent = customer.lastVisit.substring(5); // MM-DD
            document.getElementById('avgSpent').textContent = 'Â¥' + Math.round(customer.totalSpent / customer.visitCount).toLocaleString();
            document.getElementById('membershipLevel').textContent = customer.membershipLevel;
            document.getElementById('phoneNumber').textContent = customer.phone;
            document.getElementById('emailAddress').textContent = customer.email;
            
            if (customer.lineId) {
                document.getElementById('lineId').textContent = customer.lineId;
            }
            if (customer.instagramId) {
                document.getElementById('instagramId').textContent = customer.instagramId;
            }
        }
        
        // æ©Ÿèƒ½å®Ÿè£…
        function editCustomerInfo() {
            const customer = customerProfiles[customerId];
            const newPhone = prompt('é›»è©±ç•ªå·ã‚’ç·¨é›†:', customer.phone);
            const newEmail = prompt('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç·¨é›†:', customer.email);
            
            if (newPhone || newEmail) {
                alert(`âœ… é¡§å®¢æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã—ãŸ\n\né›»è©±: ${newPhone || customer.phone}\nãƒ¡ãƒ¼ãƒ«: ${newEmail || customer.email}`);
                console.log('é¡§å®¢æƒ…å ±æ›´æ–°:', { newPhone, newEmail });
            }
        }
        
        function viewMedicalRecord() {
            window.location.href = `/customer-medical-record.html?customer=${customerId}`;
        }
        
        function createNewAppointment() {
            const customer = customerProfiles[customerId];
            alert(`ğŸ“… ${customer.name}æ§˜ã®æ–°è¦äºˆç´„ä½œæˆ\n\näºˆç´„ç®¡ç†ç”»é¢ã§æ–°è¦äºˆç´„ã‚’ä½œæˆã—ã¾ã™ã€‚\n\nãƒ»é¡§å®¢æƒ…å ±è‡ªå‹•å…¥åŠ›\nãƒ»éå»ã®æ–½è¡“å±¥æ­´å‚ç…§\nãƒ»ã‚¢ãƒ¬ãƒ«ã‚®ãƒ¼æƒ…å ±ç¢ºèªæ¸ˆã¿`);
            // window.location.href = `/appointments.html?new=true&customer=${customerId}`;
        }
        
        function sendMessage() {
            const customer = customerProfiles[customerId];
            window.location.href = `/messages.html?customer=${customerId}`;
        }
        
        function viewPhoto(photoId) {
            alert(`ğŸ“· æ–½è¡“å†™çœŸè¡¨ç¤º\n\nå†™çœŸID: ${photoId}\n\nå®Ÿéš›ã®é‹ç”¨ã§ã¯é«˜è§£åƒåº¦ã®æ–½è¡“å†™çœŸãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n\nãƒ»Before/Afteræ¯”è¼ƒ\nãƒ»æ‹¡å¤§è¡¨ç¤º\nãƒ»å†™çœŸãƒ¡ãƒ¢æ©Ÿèƒ½`);
        }
        
        function goBackToCustomers() {
            window.location.href = '/customers.html';
        }
        
        // ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebarOverlay');

            if (mobileMenuToggle && sidebar && sidebarOverlay) {
                mobileMenuToggle.addEventListener('click', () => {
                    sidebar.classList.toggle('mobile-open');
                    sidebarOverlay.classList.toggle('active');
                });

                sidebarOverlay.addEventListener('click', () => {
                    sidebar.classList.remove('mobile-open');
                    sidebarOverlay.classList.remove('active');
                });
            }

            const logoutBtn = document.getElementById('logoutBtn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    localStorage.clear();
                    sessionStorage.clear();
                    window.location.href = '/login.html';
                });
            }
        });
    </script>
</body>
</html>