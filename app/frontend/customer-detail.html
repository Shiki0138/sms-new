<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¡§å®¢è©³ç´° - ç¾å®¹å®¤VOTAN</title>
    <link rel="stylesheet" href="/css/legacy/main-unified.css?v=20250907">
    <link rel="stylesheet" href="/css/mobile-navigation.css">
    <style>
        /* Customer detail page specific styles */
        .app-container {
            display: flex;
            min-height: 100vh;
        }

        .main-content {
            padding: 2rem;
            flex: 1;
        }

        .customer-detail-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .customer-header {
            margin-bottom: 2rem;
        }

        .customer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .info-section {
            padding: 1.5rem;
        }

        .info-section h3 {
            color: var(--gray-800);
            margin-bottom: 1rem;
        }

        .info-item {
            margin-bottom: 1rem;
        }

        .info-label {
            font-weight: 600;
            color: var(--gray-700);
            margin-bottom: 0.25rem;
        }

        .info-value {
            color: var(--gray-600);
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1>Salon LumiÃ¨re</h1>
                <p id="salonName">Loading...</p>
            </div>
            
            <nav class="nav-menu">
                <a href="/dashboard.html" class="nav-item">
                    <span class="nav-icon">ğŸ“Š</span>
                    <span>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</span>
                </a>
                <a href="/dashboard.html#customers" class="nav-item active">
                    <span class="nav-icon">ğŸ‘¥</span>
                    <span>é¡§å®¢ç®¡ç†</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <span id="userName">Loading...</span>
                    <span id="userPlan" class="plan-badge">Light</span>
                </div>
                <button id="logoutBtn" class="logout-btn">ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ</button>
            </div>
        </aside>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="main-content">
            <div class="page-header">
                <div class="breadcrumb">
                    <a href="/dashboard.html">ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</a>
                    <span>/</span>
                    <a href="/dashboard.html#customers">é¡§å®¢ç®¡ç†</a>
                    <span>/</span>
                    <span id="customerNameBreadcrumb">é¡§å®¢è©³ç´°</span>
                </div>
            </div>
            
            <!-- é¡§å®¢åŸºæœ¬æƒ…å ± -->
            <div class="customer-header">
                <div class="customer-info">
                    <h1 id="customerFullName">-</h1>
                    <p class="customer-kana" id="customerFullNameKana">-</p>
                    <div class="customer-tags" id="customerTags"></div>
                </div>
                <div class="customer-actions">
                    <button class="btn btn-secondary" onclick="editCustomer()">ç·¨é›†</button>
                    <button class="btn btn-primary" onclick="createAppointment()">äºˆç´„ä½œæˆ</button>
                </div>
            </div>
            
            <!-- ã‚¿ãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
            <div class="tabs">
                <button class="tab-button active" data-tab="basic">åŸºæœ¬æƒ…å ±</button>
                <button class="tab-button" data-tab="history">æ¥åº—å±¥æ­´</button>
                <button class="tab-button" data-tab="records">ã‚«ãƒ«ãƒ†</button>
                <button class="tab-button" data-tab="photos">å†™çœŸ</button>
                <button class="tab-button" data-tab="growth">æˆé•·è¨˜éŒ²</button>
                <button class="tab-button" data-tab="desires">é¡˜æœ›ãƒ»ãƒ‹ãƒ¼ã‚º</button>
            </div>
            
            <!-- ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            <div class="tab-content">
                <!-- åŸºæœ¬æƒ…å ±ã‚¿ãƒ– -->
                <div id="basic" class="tab-pane active">
                    <div class="info-grid">
                        <div class="info-item">
                            <label>é›»è©±ç•ªå·</label>
                            <p id="customerPhone">-</p>
                        </div>
                        <div class="info-item">
                            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹</label>
                            <p id="customerEmail">-</p>
                        </div>
                        <div class="info-item">
                            <label>ç”Ÿå¹´æœˆæ—¥</label>
                            <p id="customerBirthDate">-</p>
                        </div>
                        <div class="info-item">
                            <label>æ€§åˆ¥</label>
                            <p id="customerGender">-</p>
                        </div>
                        <div class="info-item">
                            <label>éƒµä¾¿ç•ªå·</label>
                            <p id="customerPostalCode">-</p>
                        </div>
                        <div class="info-item">
                            <label>ä½æ‰€</label>
                            <p id="customerAddress">-</p>
                        </div>
                        <div class="info-item">
                            <label>åˆå›æ¥åº—æ—¥</label>
                            <p id="customerFirstVisit">-</p>
                        </div>
                        <div class="info-item">
                            <label>æœ€çµ‚æ¥åº—æ—¥</label>
                            <p id="customerLastVisit">-</p>
                        </div>
                        <div class="info-item">
                            <label>æ¥åº—å›æ•°</label>
                            <p><span id="customerVisitCount">0</span>å›</p>
                        </div>
                        <div class="info-item">
                            <label>ç´¯è¨ˆå£²ä¸Š</label>
                            <p>Â¥<span id="customerTotalSales">0</span></p>
                        </div>
                    </div>
                    
                    <div class="notes-section">
                        <h3>å‚™è€ƒ</h3>
                        <p id="customerNotes" class="notes-content">-</p>
                    </div>
                </div>
                
                <!-- æ¥åº—å±¥æ­´ã‚¿ãƒ– -->
                <div id="history" class="tab-pane">
                    <div class="history-timeline" id="visitHistory">
                        <!-- æ¥åº—å±¥æ­´ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                    </div>
                </div>
                
                <!-- ã‚«ãƒ«ãƒ†ã‚¿ãƒ– -->
                <div id="records" class="tab-pane">
                    <div class="records-header">
                        <h3>æ–½è¡“ã‚«ãƒ«ãƒ†</h3>
                        <button class="btn btn-primary btn-sm" onclick="addRecord()">ã‚«ãƒ«ãƒ†è¿½åŠ </button>
                    </div>
                    <div class="records-list" id="medicalRecords">
                        <!-- ã‚«ãƒ«ãƒ†ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                    </div>
                </div>
                
                <!-- å†™çœŸã‚¿ãƒ– -->
                <div id="photos" class="tab-pane">
                    <div class="photos-header">
                        <h3>æˆé•·è¨˜éŒ²</h3>
                        <button class="btn btn-primary btn-sm" onclick="uploadPhoto()">å†™çœŸè¿½åŠ </button>
                    </div>
                    <div class="photos-grid" id="customerPhotos">
                        <!-- å†™çœŸãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                    </div>
                </div>
                
                <!-- æˆé•·è¨˜éŒ²ã‚¿ãƒ– -->
                <div id="growth" class="tab-pane">
                    <div class="growth-header">
                        <h3>æˆé•·è¨˜éŒ²ã‚°ãƒ©ãƒ•</h3>
                        <div class="period-selector">
                            <button class="period-btn active" data-period="6m">6ãƒ¶æœˆ</button>
                            <button class="period-btn" data-period="1y">1å¹´</button>
                            <button class="period-btn" data-period="all">å…¨æœŸé–“</button>
                        </div>
                    </div>
                    <div class="growth-content">
                        <div class="growth-chart" id="growthChart">
                            <!-- ãƒãƒ£ãƒ¼ãƒˆãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                        </div>
                        <div class="growth-insights">
                            <h4>åˆ†æ</h4>
                            <div id="growthInsights">
                                <!-- æˆé•·åˆ†æãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- é¡˜æœ›ãƒ»ãƒ‹ãƒ¼ã‚ºã‚¿ãƒ– -->
                <div id="desires" class="tab-pane">
                    <div class="desires-section">
                        <h3>ãŠå®¢æ§˜ã®é¡˜æœ›</h3>
                        <div class="editable-content" id="customerDesires">
                            <p class="content-text"></p>
                            <button class="edit-btn" onclick="editDesires()">ç·¨é›†</button>
                        </div>
                    </div>
                    
                    <div class="needs-section">
                        <h3>ãŠå®¢æ§˜ã®ãƒ‹ãƒ¼ã‚º</h3>
                        <div class="editable-content" id="customerNeeds">
                            <p class="content-text"></p>
                            <button class="edit-btn" onclick="editNeeds()">ç·¨é›†</button>
                        </div>
                    </div>
                    
                    <div class="preferences-section">
                        <h3>ãŠå¥½ã¿ãƒ»æ³¨æ„äº‹é …</h3>
                        <div class="preferences-grid" id="customerPreferences">
                            <!-- å¥½ã¿ã‚„æ³¨æ„äº‹é …ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™ -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modalTitle">ã‚¿ã‚¤ãƒˆãƒ«</h3>
                <button class="modal-close" onclick="closeModal()">Ã—</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- ãƒ¢ãƒ¼ãƒ€ãƒ«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
            </div>
        </div>
    </div>
    
    <script src="/js/customer-detail.js"></script>
</body>
</html>